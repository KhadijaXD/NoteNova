const sqlite3 = require("sqlite3").verbose(); const db = new sqlite3.Database("./notes.db"); db.run("BEGIN TRANSACTION"); db.run("DELETE FROM VerificationCodes"); db.run("DELETE FROM Flashcards"); db.run("DELETE FROM NoteTags"); db.run("DELETE FROM Tags"); db.run("DELETE FROM Notes"); db.run("DELETE FROM Users"); db.run("DELETE FROM sqlite_sequence", function(err) { if (err) { console.error(err); db.run("ROLLBACK"); } else { db.run("COMMIT", function(err) { if (err) { console.error(err); } else { console.log("Database reset complete!"); } db.all("SELECT * FROM sqlite_sequence", [], (err, rows) => { console.log("Sequences:", rows || "All reset"); db.close(); }); }); } });
